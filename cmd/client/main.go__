package main

import (
	"flag"
	"fmt"

	"maunium.net/go/mautrix"
)

func main() {
	homeserver := flag.String("s", "http://localhost:8008", "Matrix homeserver")

	flag.Parse()

	client, _ := mautrix.NewClient(*homeserver, "", "")
	res, err := client.RegisterDummy(&mautrix.ReqRegister{
		Username: "alice1",
		Password: "wonderland",
	})
	if err != nil {
		panic(err)
	}
	token := res.AccessToken
	fmt.Println(token)
}
